â­ TASK: Run a Flask App + MySQL using Docker Compose

Your final result will be:

A Flask web app running at http://localhost:5000

A MySQL database running inside another container

Both containers managed by docker-compose

â­ Step 1: Create a project folder

In PowerShell:

mkdir custom_flask
cd custom_flask


Why?
ğŸ‘‰ To keep your app, Dockerfile, and docker-compose files together.

â­ Step 2: Create the Flask app file (app.py)

Run:

notepad app.py


Paste this simple Flask app:

from flask import Flask
app = Flask(__name__)

@app.route("/")
def home():
    return "Hello from 24BD5A0503 - NEKSHASRINIVAS"

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=5000)


Why?
ğŸ‘‰ This is your actual web app that Docker will run.

â­ Step 3: Create the Dockerfile

Create the file:

notepad Dockerfile


Paste this:

FROM python:3.10-slim

WORKDIR /app

COPY app.py /app/

RUN pip install flask

CMD ["python", "app.py"]


Why?

FROM python:3.10-slim â†’ uses a lightweight Python image

WORKDIR /app â†’ container will work in /app folder

COPY app.py /app/ â†’ copy your code into the container

RUN pip install flask â†’ install flask inside container

CMD ["python", "app.py"] â†’ Run the app when container starts

â­ Step 4: Create the docker-compose.yml

Run:

notepad docker-compose.yml


Paste this:

version: "3.9"

services:
  web:
    build: .
    ports:
      - "5000:5000"
    depends_on:
      - db

  db:
    image: mysql:8.0
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: mydb
    ports:
      - "3306:3306"

âœ” What this file does:

web service â†’ Flask

build: . â†’ Build Dockerfile in current folder

ports: "5000:5000" â†’ Expose web app to browser

depends_on: db â†’ Start DB container first

db service â†’ MySQL

image: mysql:8.0 â†’ Uses MySQL 8

environment â†’ Sets root password + DB name

ports: "3306:3306" â†’ Makes MySQL visible locally

â­ Step 5: Build and run the containers

Run this inside your project folder:

docker compose up --build


OR (older versions):

docker-compose up --build


What happens:

âœ” Docker builds your Flask image using the Dockerfile
âœ” Docker pulls MySQL image
âœ” Docker creates 2 containers
âœ” Networks them together
âœ” Starts both

You will see output showing installation and container creation.

â­ Step 6: Test the Flask app

Open browser:

http://localhost:5000


You should see:

Hello from 24BD5A0503 - NEKSHASRINIVAS


ğŸ‰ Your Flask app is running inside Docker!

â­ Step 7: Stop the services

To stop:

docker compose down


To remove everything including DB data:

docker compose down -v
