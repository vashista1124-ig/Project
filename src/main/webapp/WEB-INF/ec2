# 1) SSH to the EC2 instance (you already did this)
ssh -i "server.pem" ubuntu@ec2-52-90-96-102.compute-1.amazonaws.com

# 2) Update package lists
sudo apt update

# 3) Install git (was already installed in your session — command succeeds)
sudo apt install git

# 4) Install Docker from the Ubuntu repo (in your session this succeeded after apt update)
sudo apt-get install docker.io

# 5) Install nano editor (optional — already installed in your session)
sudo apt install nano

# 6) Clone your GitHub repo and change into it
git clone https://github.com/PKarthikyadav/imp.git
cd imp

# 7) (Create or edit) Dockerfile — you used nano in your session
nano Dockerfile

content:
FROM nginx:alpine
COPY . usr/share/nginx/html

# ← add the Dockerfile contents, save and exit

# 8) Build the Docker image
sudo docker build -t mywebapp .

# 9) Run the Docker container in detached mode mapping host port 80 → container 80
sudo docker run -d -p 80:80 mywebapp

# 10) List running containers to see the container ID and status
sudo docker ps

# 11) Stop the container (replace <container-id> with the actual ID from `docker ps`)
sudo docker stop <container-id>
